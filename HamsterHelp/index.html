

<!DOCTYPE html>
<html>
<header>
	<title>HamsterTech Kiosk</title>
	<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    
    <link rel="stylesheet" href="style.css">

</header>
<body>
<br />
<div class="row">
  <div class="col-md-3"> </div>
  <div class="col-md-6" id="header"><img class="center-block" height="60%" width="60%" src="websitebeginning/images/hambrain.png"></div>
  <div class="col-md-3"> </div>
</div>
<div class="row" id="focusRow">
  <div class="col-md-4" id="focusLeft"></div>
  <div class="col-md-4" id="focus"><div id="animation"></div><br /><img class="center-block"  src="hamster.png"></div>
  <div class="col-md-4" id="focusRight"> </div>
</div>
<div class="row">
  <div class="col-md-4"> </div>
  <div class="col-md-4"><br><button type="button" class="btn btn-warning btn-block" onclick="load()"><br />PRESS ME AND SPEAK<br /><br /></button>
</div>
  <div class="col-md-4"> </div>
</div>
    
	<script type="text/javascript">
	var num;
        function load() {
            $('#animation').append('<img id="loading" class="center-block" src="websitebeginning/Images/ajax-loader.gif" alt="Currently Loading" />');
            xmlhttp = new XMLHttpRequest();
            xmlhttp.open("GET", "http://localhost:8888/getstring", true);
            xmlhttp.onreadystatechange = function () {
                if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                    string = xmlhttp.responseText;
                    string = string.split(',');
					if(string[1] == 'laptop')
						num = 12;
					else if(string[1] == 'phone')
						num = 3;
					else if(string[1] == 'fridge')
						num = 8;
					string[0] = string[0].charAt(0).toUpperCase() + string[0].substring(1, string[0].length);
					if(string != 'unrecognized'){
						$('#header').html('<h1>' + string[0] + 's are in: Aisle ' + num + '</h1><br />');
						$('#focus').html('<img src="resources/' + string[1] + 'Map.png" class="right-block" id="map" height="75%" width="75%">');
						$('#focus').removeClass("col-md-4");
						$('#focus').addClass("col-md-6");
						$('#focusLeft').removeClass("col-md-4");
						$('#focusLeft').addClass("col-md-1");
						$('#focusRight').removeClass("col-md-4");
						$('#focusRight').addClass("col-md-4");
						$('#focusRow').append('<div class="col-md-1"> </div>');
						$('#focusRight').html("<br /><br /><br /><h2>Would you like assisstance<br />from a blue shirt?</h2>"
							+ "<button class='btn btn-success btn-block helpButton center-block' onclick='test()'>"
							+ "Please help me</button>"
							+ "<button class='btn btn-danger btn-block noHelpButton center-block' onclick='reset()'>"
							+ "I'll be okay</button>");
						$('.helpButton, .noHelpButton').css('margin', '20px');
						$('#loading').fadeOut(500, function () { $(this).remove(); });
					}else{
						$('#header').html('<h1>This item is available online. </h1><br />');
						$('#focus').html('<img src="websitebeginning/Images/screwdrivers.png" class="right-block" id="map" height="95%" width="95%">');
						$('#focus').removeClass("col-md-4");
						$('#focus').addClass("col-md-6");
						$('#focusLeft').removeClass("col-md-4");
						$('#focusLeft').addClass("col-md-1");
						$('#focusRight').removeClass("col-md-4");
						$('#focusRight').addClass("col-md-4");
						$('#focusRow').append('<div class="col-md-1"> </div>');
						$('#focusRight').html("<h2>Associate Alex is available to help. Would you like personal assistance?</h2>"
							+ "<button class='btn btn-success btn-block helpButton center-block' onclick='test()'>"
							+ "Please help me</button>"
							+ "<button class='btn btn-danger btn-block noHelpButton center-block' onclick='reset()'>"
							+ "I'll be okay</button>");
						$('.helpButton, .noHelpButton').css('margin', '20px');
						$('#loading').fadeOut(500, function () { $(this).remove(); });
					}
                }
            }
            xmlhttp.send();
        }

        function test() {
            xmlhttp = new XMLHttpRequest();
            xmlhttp.open("GET", "http://localhost:8888/anything", true);
            xmlhttp.onreadystatechange = function () {
				if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                    //string = xmlhttp.responseText;
                    //string = string.split(',');
					//string[0] = string[0].charAt(0).toUpperCase() + string[0].substring(1, string[0].length);
					$('#header').html('<h1>Associate Alex will meet you in aisle ' + num + '</h1><br />');
					$('#focusRow').html('<div class="col-md-4" id="focusLeft"></div>'
						+ '<div class="col-md-4" id="focus"><img src="websitebeginning/Images/Alex.png" class="center-block" id="map" height="75%" width="75%"></div>'
						+ '<div class="col-md-4" id="focusRight"> </div>');
					//$('#focus').html('<img src="websitebeginning/Images/Alex.png" class="center-block" id="map" height="75%" width="75%">');
                }
            }
            xmlhttp.send();
        }
		function reset(){
			location.reload();
		}
    </script>

</body>
</html>